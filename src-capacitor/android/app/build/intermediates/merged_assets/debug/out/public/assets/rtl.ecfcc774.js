import{r as g,D as y,o as d,u as w,E as v,Y as z,as as h,h as x,g as O,$ as m}from"./index.53dd0972.js";function E(){const e=g(!y.value);return e.value===!1&&d(()=>{e.value=!0}),e}const b=typeof ResizeObserver!="undefined",p=b===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var C=w({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:o}){let r=null,n,s={width:-1,height:-1};function l(t){t===!0||e.debounce===0||e.debounce==="0"?u():r===null&&(r=setTimeout(u,e.debounce))}function u(){if(r!==null&&(clearTimeout(r),r=null),n){const{offsetWidth:t,offsetHeight:i}=n;(t!==s.width||i!==s.height)&&(s={width:t,height:i},o("resize",s))}}const{proxy:c}=O();if(b===!0){let t;const i=a=>{n=c.$el.parentNode,n?(t=new ResizeObserver(l),t.observe(n),u()):a!==!0&&h(()=>{i(!0)})};return d(()=>{i()}),v(()=>{r!==null&&clearTimeout(r),t!==void 0&&(t.disconnect!==void 0?t.disconnect():n&&t.unobserve(n))}),z}else{let a=function(){r!==null&&(clearTimeout(r),r=null),i!==void 0&&(i.removeEventListener!==void 0&&i.removeEventListener("resize",l,m.passive),i=void 0)},f=function(){a(),n&&n.contentDocument&&(i=n.contentDocument.defaultView,i.addEventListener("resize",l,m.passive),u())};const t=E();let i;return d(()=>{h(()=>{n=c.$el,n&&f()})}),v(a),c.trigger=l,()=>{if(t.value===!0)return x("object",{style:p.style,tabindex:-1,type:"text/html",data:p.url,"aria-hidden":"true",onLoad:f})}}}});let R=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const o=document.createElement("div");Object.assign(o.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(o),e.scrollLeft=-1e3,R=e.scrollLeft>=0,e.remove()}export{C as Q,R as r};
